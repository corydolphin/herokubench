<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Herokubench by wcdolphin</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header">Herokubench</h1>
        <p class="header">Distributed benchmark and load testing tool using Heroku&#39;s free cloud</p>

        <ul>
          <li class="download"><a class="buttons" href="https://github.com/wcdolphin/herokubench/zipball/master">Download ZIP</a></li>
          <li class="download"><a class="buttons" href="https://github.com/wcdolphin/herokubench/tarball/master">Download TAR</a></li>
          <li><a class="buttons github" href="https://github.com/wcdolphin/herokubench">View On GitHub</a></li>
        </ul>

        <p class="header">This project is maintained by <a class="header name" href="https://github.com/wcdolphin">wcdolphin</a></p>


      </header>
      <section>
        <h3>
<a name="heroku-bench" class="anchor" href="#heroku-bench"><span class="octicon octicon-link"></span></a>Heroku Bench.</h3>

<p>Herokubench allows you to easily load test websites, from the cloud, for free. Use hundreds of free dynos on Heroku to run apache-bench, in the same way you would run it locally.</p>

<h2>
<a name="goals" class="anchor" href="#goals"><span class="octicon octicon-link"></span></a>Goals</h2>

<p>This project was created to make it easier to load tests web apps built on Heroku. I was upset at Blitz.io's high price and limitations, so I built this. </p>

<h2>
<a name="installing" class="anchor" href="#installing"><span class="octicon octicon-link"></span></a>Installing</h2>

<div class="highlight highlight-sh"><pre><span class="nv">$ </span>gem install herokubench
</pre></div>

<h2>
<a name="getting-started" class="anchor" href="#getting-started"><span class="octicon octicon-link"></span></a>Getting Started</h2>

<p>Using HerokuBench is as easy as using apache bench. The interface is the same, but the actions are distributed! In the simplest of cases, hbench only needs to know three things: the number of concurrent connections (the 'c' option), the <em>total</em> number of requests (the 'n' option), and the URL to make the request to.</p>

<div class="highlight highlight-sh"><pre><span class="nv">$ </span>hbench ab -c 100 -n 10000 http://www.google.com/
</pre></div>

<h2>
<a name="making-it-rain" class="anchor" href="#making-it-rain"><span class="octicon octicon-link"></span></a>Making it rain</h2>

<p>HerokuBench shines when running a load test with thousands of requests per second. Unlike running apache-bench from your own PC, Hbench distributes the requests across a number of dynos, allowing far higher throughput. Testing with 10,000 concurrent connections is the same as testing with 100.</p>

<div class="highlight highlight-sh"><pre><span class="nv">$ </span>hbench ab -c 10000 -n 1000 http://www.google.com/
</pre></div>

<h2>
<a name="example-result" class="anchor" href="#example-result"><span class="octicon octicon-link"></span></a>Example Result</h2>

<pre><code>hbench ab -c 1000 -n 10000 http://nodejssimple.herokuapp.com/

        Cumulative results, summed across dynos
        Server Port:         80
        Document Length:     12
        Concurrency Level:   1000
        Time taken for tests: 7.1
        Complete requests:   10000
        Failed requests:     2
        Write errors:        0
        Total transferred:   1321134
        HTML transferred:    119976
        Requests per second: 1473.7
        Time per request:    7.1
        Transfer rate:       21.03

        Connection Times (ms), median across dynos
                             min      mean     [+/-sd]  median
        Connect:             1.3      3.0      3.5      1.6
        Processing:          185.9    641.1    427.7    481.1
        Waiting:             185.3    641.0    427.7    481.0
        Total:               190.9    644.2    428.0    483.3

        Percentage of the requests served within a certain time (ms) across dynos
          50%                  551
          66%                  671
          75%                  854
          80%                  1022
          90%                  1514
          95%                  1561
          98%                  1777
          99%                  3422
          100%                 7219
</code></pre>

<h2>
<a name="options" class="anchor" href="#options"><span class="octicon octicon-link"></span></a>Options</h2>

<p>Everyone likes options!</p>

<div class="highlight highlight-sh"><pre><span class="nv">$ </span> hbench <span class="nb">help</span>
Commands:
  hbench ab <span class="o">[</span>options<span class="o">]</span> <span class="o">[</span>http<span class="o">[</span>s<span class="o">]</span>://<span class="o">]</span>hostname<span class="o">[</span>:port<span class="o">]</span>/path              <span class="c"># Run apache-bench automatically spreading over dynos as necessary</span>
  hbench create APP_NAME                                            <span class="c"># Create your personal bench-server on Heroku</span>
  hbench <span class="nb">help</span> <span class="o">[</span>COMMAND<span class="o">]</span>                                             <span class="c"># Describe available commands or one specific command</span>
  hbench multi NUMDYNOS <span class="o">[</span>options<span class="o">]</span> <span class="o">[</span>http<span class="o">[</span>s<span class="o">]</span>://<span class="o">]</span>hostname<span class="o">[</span>:port<span class="o">]</span>/path  <span class="c"># Run apache-bench, using multiple one-off dynos</span>
  hbench update                                                     <span class="c"># Updates your remote bench server</span>

</pre></div>
      </section>
      <footer>
        <p><small>Hosted on <a href="http://pages.github.com">GitHub Pages</a> using the Dinky theme</small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
		          <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-39970641-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
